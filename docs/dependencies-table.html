<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend Dependencies Table</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 10px;
            color: #333;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 2px solid #ddd;
            background-color: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .filter-btn:hover {
            border-color: #1677ff;
            color: #1677ff;
        }

        .filter-btn.active {
            background-color: #1677ff;
            color: white;
            border-color: #1677ff;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }

        th {
            background-color: #f0f0f0;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #ddd;
            color: #333;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }

        tr:hover {
            background-color: #f9f9f9;
        }

        .from-package {
            font-weight: 600;
            color: #1677ff;
            min-width: 100px;
        }

        .to-package {
            font-weight: 600;
            color: #52c41a;
            min-width: 100px;
        }

        .reason {
            color: #666;
            font-size: 13px;
        }

        .example {
            background-color: #f5f5f5;
            padding: 8px 12px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #333;
            overflow-x: auto;
        }

        .layer-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 600;
        }

        .layer-1 { background-color: #fff7e6; color: #ad6800; }
        .layer-2 { background-color: #f6f8ff; color: #0050b3; }
        .layer-3 { background-color: #f6ffed; color: #274000; }
        .layer-4 { background-color: #fce7f3; color: #c41d7f; }

        .summary {
            background-color: #f0f5ff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #1677ff;
        }

        .summary h3 {
            color: #1677ff;
            margin-bottom: 10px;
        }

        .summary-item {
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 10px;
        }

        .summary-item strong {
            color: #333;
        }

        .no-results {
            text-align: center;
            padding: 40px;
            color: #999;
        }

        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 1px solid #ddd;
        }

        .legend-item {
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 4px;
        }

        .legend-item strong {
            display: block;
            margin-bottom: 5px;
        }

        .legend-item small {
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Frontend Package Dependencies</h1>
        <p class="subtitle">Chi ti·∫øt c√°c li√™n k·∫øt gi·ªØa c√°c packages</p>

        <div class="summary">
            <h3>üìä T√≥m t·∫Øt</h3>
            <div class="summary-item"><strong>T·ªïng dependencies:</strong> 30</div>
            <div class="summary-item"><strong>Packages:</strong> 12</div>
            <div class="summary-item"><strong>Layers:</strong> 4</div>
            <div class="summary-item"><strong>Circular deps:</strong> 0 ‚úì</div>
            <div class="summary-item"><strong>Status:</strong> C·∫≠p nh·∫≠t t·ª´ th·ª±c t·∫ø codebase ‚úÖ</div>
        </div>

        <div class="controls">
            <button class="filter-btn active" onclick="filterByPackage('all')">T·∫•t c·∫£</button>
            <button class="filter-btn" onclick="filterByPackage('pages')">T·ª´ pages</button>
            <button class="filter-btn" onclick="filterByPackage('components')">T·ª´ components</button>
            <button class="filter-btn" onclick="filterByPackage('routes')">T·ª´ routes</button>
            <button class="filter-btn" onclick="filterByPackage('services')">T·ª´ services</button>
            <button class="filter-btn" onclick="filterByPackage('hooks')">T·ª´ hooks</button>
            <button class="filter-btn" onclick="filterByPackage('context')">T·ª´ context</button>
            <button class="filter-btn" onclick="filterByPackage('utils')">T·ª´ utils</button>
            <button class="filter-btn" onclick="filterByPackage('config')">T·ª´ config</button>
        </div>

        <table id="dependenciesTable">
            <thead>
                <tr>
                    <th style="width: 15%">T·ª´ Package</th>
                    <th style="width: 15%">ƒê·∫øn Package</th>
                    <th style="width: 25%">L√Ω do</th>
                    <th style="width: 45%">V√≠ d·ª• Import</th>
                </tr>
            </thead>
            <tbody id="tableBody">
            </tbody>
        </table>

        <div class="legend">
            <div class="legend-item">
                <strong>Layer 1: Foundation</strong>
                <small>config, assets, styles, constants</small>
            </div>
            <div class="legend-item">
                <strong>Layer 2: Core</strong>
                <small>models, utils</small>
            </div>
            <div class="legend-item">
                <strong>Layer 3: Business Logic</strong>
                <small>services, context, hooks</small>
            </div>
            <div class="legend-item">
                <strong>Layer 4: Presentation</strong>
                <small>pages, components, routes</small>
            </div>
        </div>
    </div>

    <script>
        const dependencies = [
            // pages dependencies (th·ª±c t·∫ø)
            { from: 'pages', to: 'models', layer: 4, reason: 'S·ª≠ d·ª•ng type definitions', example: "import type { Order } from '@/models/Order'" },
            { from: 'pages', to: 'utils', layer: 4, reason: 'S·ª≠ d·ª•ng helper functions', example: "import { formatToVietnamTime } from '@/utils/dateUtils'" },
            { from: 'pages', to: 'context', layer: 4, reason: 'L·∫•y global state', example: "import { useAuth } from '@/context'" },
            { from: 'pages', to: 'services', layer: 4, reason: 'G·ªçi API', example: "import orderService from '@/services/order'" },
            { from: 'pages', to: 'components', layer: 4, reason: 'S·ª≠ d·ª•ng UI components', example: "import { OrdersHeader } from './components'" },
            { from: 'pages', to: 'config', layer: 4, reason: 'L·∫•y c·∫•u h√¨nh (ch·ªâ map pages)', example: "import { VIET_MAPS_API_KEY } from '@/config/env'" },

            // components dependencies
            { from: 'components', to: 'assets', layer: 4, reason: 'S·ª≠ d·ª•ng h√¨nh ·∫£nh, icons', example: "import icon from '@/assets/icon.svg'" },
            { from: 'components', to: 'styles', layer: 4, reason: 'S·ª≠ d·ª•ng CSS modules', example: "import styles from './Button.module.css'" },
            { from: 'components', to: 'constants', layer: 4, reason: 'S·ª≠ d·ª•ng enums', example: "import { UserRoleEnum } from '@/constants/enums'" },
            { from: 'components', to: 'models', layer: 4, reason: 'S·ª≠ d·ª•ng types', example: "import type { User } from '@/models/User'" },
            { from: 'components', to: 'utils', layer: 4, reason: 'S·ª≠ d·ª•ng formatters', example: "import { formatCurrency } from '@/utils/formatters'" },
            { from: 'components', to: 'hooks', layer: 4, reason: 'S·ª≠ d·ª•ng custom hooks', example: "import { useWindowSize } from '@/hooks'" },
            { from: 'components', to: 'context', layer: 4, reason: 'L·∫•y global state', example: "import { useAuth } from '@/context'" },
            { from: 'components', to: 'services', layer: 4, reason: 'G·ªçi API (n·∫øu c·∫ßn)', example: "import { userService } from '@/services'" },
            { from: 'components', to: 'config', layer: 4, reason: 'L·∫•y c·∫•u h√¨nh (Header, layout)', example: "import { SUPPORT_EMAIL, SUPPORT_PHONE } from '@/config'" },

            // routes dependencies
            { from: 'routes', to: 'pages', layer: 4, reason: 'Import page components', example: "import HomePage from '@/pages/Home'" },
            { from: 'routes', to: 'components', layer: 4, reason: 'Import layout components', example: "import { MainLayout } from '@/components/layout'" },
            { from: 'routes', to: 'context', layer: 4, reason: 'S·ª≠ d·ª•ng auth context', example: "import { useAuth } from '@/context'" },

            // hooks dependencies (th·ª±c t·∫ø - kh√¥ng import constants)
            { from: 'hooks', to: 'models', layer: 3, reason: 'S·ª≠ d·ª•ng types', example: "import type { Province } from '@/models/Province'" },
            { from: 'hooks', to: 'utils', layer: 3, reason: 'S·ª≠ d·ª•ng helper functions', example: "import { formatDate } from '@/utils'" },
            { from: 'hooks', to: 'services', layer: 3, reason: 'G·ªçi API', example: "import provinceService from '@/services/address/provinceService'" },

            // context dependencies
            { from: 'context', to: 'models', layer: 3, reason: 'S·ª≠ d·ª•ng types', example: "import type { User } from '@/models/User'" },
            { from: 'context', to: 'utils', layer: 3, reason: 'S·ª≠ d·ª•ng helper functions', example: "import { localStorage } from '@/utils'" },
            { from: 'context', to: 'services', layer: 3, reason: 'G·ªçi API', example: "import { authService } from '@/services'" },

            // services dependencies
            { from: 'services', to: 'config', layer: 3, reason: 'L·∫•y API URL, timeout', example: "import { API_URL } from '@/config'" },
            { from: 'services', to: 'constants', layer: 3, reason: 'S·ª≠ d·ª•ng constants', example: "import { API_ENDPOINTS } from '@/constants'" },
            { from: 'services', to: 'models', layer: 3, reason: 'S·ª≠ d·ª•ng types cho request/response', example: "import type { Order } from '@/models/Order'" },
            { from: 'services', to: 'utils', layer: 3, reason: 'S·ª≠ d·ª•ng helper functions', example: "import { handleError } from '@/utils'" },

            // utils dependencies
            { from: 'utils', to: 'constants', layer: 2, reason: 'S·ª≠ d·ª•ng constants', example: "import { DATE_FORMAT } from '@/constants'" }
        ];
        
        // Note: Documentation updated to reflect actual codebase (30 dependencies)
        // Pages: models, utils, context, services, components, config (map pages only)
        // Components: assets, styles, constants, models, utils, hooks, context, services, config
        // Hooks: models, utils, services (NOT constants)
        // Total: 30 dependencies

        function renderTable(data) {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            if (data.length === 0) {
                tbody.innerHTML = '<tr><td colspan="4" class="no-results">Kh√¥ng c√≥ d·ªØ li·ªáu</td></tr>';
                return;
            }

            data.forEach((dep, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="from-package">${dep.from}</span></td>
                    <td><span class="to-package">${dep.to}</span></td>
                    <td><span class="reason">${dep.reason}</span></td>
                    <td><div class="example">${dep.example}</div></td>
                `;
                tbody.appendChild(row);
            });
        }

        function filterByPackage(pkg) {
            // Update button states
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            if (event && event.target) {
                event.target.classList.add('active');
            }

            // Filter data
            let filtered = dependencies;
            if (pkg !== 'all') {
                filtered = dependencies.filter(dep => dep.from === pkg);
            }

            renderTable(filtered);
        }

        // Initial render
        renderTable(dependencies);
    </script>
</body>
</html>
